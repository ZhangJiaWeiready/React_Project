import React,{Component} from 'react'import {TabBar} from 'antd-mobile'import PropTypes from 'prop-types'import {withRouter} from 'react-router-dom'const Item = TabBar.Itemclass NavFooter extends Component{    static propTypes={        navList:PropTypes.array.isRequired,        unReadCount:PropTypes.number.isRequired    }    /*    * selected 当值为true的时候会选中 ，所以 请求路径和nav.path相同的时候会选中    * 但是 loaction只能在路由组件中使用所以就用到了router的 一个属性 withRouter    *       withRouter用法和connect类似 将它包装起来 ，然后就会把路由的三个属性传递给他    * onPress 点击后会触发回调函数 到当前的路由    *    * */    render(){        let {navList} = this.props        //如果是laoban的话 需要显示大神列表        navList=navList.filter((nav) => {return !nav.hide})        const {pathname} = this.props.location        return(            <TabBar>                {                  navList.map((nav,index) => (                      <Item key={index}                          title={nav.text}                            badge={nav.path==='/message'?this.props.unReadCount:0}                          icon={{uri: require(`./images/${nav.icon}.png`)}}                          selectedIcon={{uri:require(`./images/${nav.icon}-selected.png`)}}                          selected={pathname===nav.path}                          onPress = {() =>{                              this.props.history.replace(nav.path)                          }}                      />                  ))                }            </TabBar>        )    }}export default withRouter(NavFooter)